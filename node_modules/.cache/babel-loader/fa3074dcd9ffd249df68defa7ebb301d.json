{"ast":null,"code":"const apiKey = '32PflNJvvqf8MOqpz6ik5fou0PR70uDjE4TvN7BaZWHZDeLkZnNcJpXbS9B5c74EyBeyG1tKMB93I8sGnW_PhUV081lKEkcDnv0UOuqyKTlxZf199-SJxT93RLBgYHYx';\nlet Yelp = {\n  search(term, location, sortBy) {\n    return fetch('https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}&sort_by=${sortBy}', {\n      headers: {\n        Authorization: `Bearer ${apiKey}`\n      }\n    }).then(response => {\n      return response.json();\n    }).then(jsonResponse => {\n      if (jsonResponse.businesses) {\n        return jsonResponse.businesses.map(business => {\n          console.log(business);\n          return {\n            id: business.id,\n            imageSrc: business.image_url,\n            name: business.name,\n            address: business.location.address1,\n            city: business.city,\n            state: business.state,\n            zipCode: business.zip_code,\n            category: business.category[0].title,\n            rating: business.rating,\n            reviewCount: reviewCount.review_count\n          };\n        });\n      }\n    });\n  }\n\n};\nexport default Yelp;","map":{"version":3,"sources":["/Applications/Developer/GitCracken/react-foodapp-using-yeplapi/src/util/Yelp.js"],"names":["apiKey","Yelp","search","term","location","sortBy","fetch","headers","Authorization","then","response","json","jsonResponse","businesses","map","business","console","log","id","imageSrc","image_url","name","address","address1","city","state","zipCode","zip_code","category","title","rating","reviewCount","review_count"],"mappings":"AAAA,MAAMA,MAAM,GAAG,kIAAf;AAEA,IAAIC,IAAI,GAAG;AAEPC,EAAAA,MAAM,CAACC,IAAD,EAAMC,QAAN,EAAeC,MAAf,EAAsB;AACxB,WAAOC,KAAK,CAAC,mIAAD,EACZ;AAACC,MAAAA,OAAO,EAAE;AACNC,QAAAA,aAAa,EAAG,UAASR,MAAO;AAD1B;AAAV,KADY,CAAL,CAGDS,IAHC,CAGKC,QAAQ,IAAI;AAClB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KALI,EAKDF,IALC,CAKKG,YAAD,IAAkB;AACzB,UAAIA,YAAY,CAACC,UAAjB,EAA6B;AACzB,eAAOD,YAAY,CAACC,UAAb,CAAwBC,GAAxB,CAA6BC,QAAD,IAAc;AAC7CC,UAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,iBAAM;AACNG,YAAAA,EAAE,EAAEH,QAAQ,CAACG,EADP;AAENC,YAAAA,QAAQ,EAAEJ,QAAQ,CAACK,SAFb;AAGNC,YAAAA,IAAI,EAAEN,QAAQ,CAACM,IAHT;AAINC,YAAAA,OAAO,EAAEP,QAAQ,CAACX,QAAT,CAAkBmB,QAJrB;AAKNC,YAAAA,IAAI,EAAET,QAAQ,CAACS,IALT;AAMNC,YAAAA,KAAK,EAAEV,QAAQ,CAACU,KANV;AAONC,YAAAA,OAAO,EAAEX,QAAQ,CAACY,QAPZ;AAQNC,YAAAA,QAAQ,EAAEb,QAAQ,CAACa,QAAT,CAAkB,CAAlB,EAAqBC,KARzB;AASNC,YAAAA,MAAM,EAAEf,QAAQ,CAACe,MATX;AAUNC,YAAAA,WAAW,EAAEA,WAAW,CAACC;AAVnB,WAAN;AAaH,SAfM,CAAP;AAgBH;AACF,KAxBI,CAAP;AAyBH;;AA5BM,CAAX;AA+BA,eAAe/B,IAAf","sourcesContent":["const apiKey = '32PflNJvvqf8MOqpz6ik5fou0PR70uDjE4TvN7BaZWHZDeLkZnNcJpXbS9B5c74EyBeyG1tKMB93I8sGnW_PhUV081lKEkcDnv0UOuqyKTlxZf199-SJxT93RLBgYHYx';\n\nlet Yelp = {\n    \n    search(term,location,sortBy){\n        return fetch('https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}&sort_by=${sortBy}', \n        {headers: {\n            Authorization: `Bearer ${apiKey}` \n          }}).then((response => {\n              return(response.json());\n          })).then((jsonResponse) => {\n            if (jsonResponse.businesses) {\n                return(jsonResponse.businesses.map((business) => {\n                    console.log(business)\n                    return{\n                    id: business.id,\n                    imageSrc: business.image_url,\n                    name: business.name,\n                    address: business.location.address1,\n                    city: business.city,\n                    state: business.state,\n                    zipCode: business.zip_code,\n                    category: business.category[0].title,\n                    rating: business.rating,\n                    reviewCount: reviewCount.review_count,\n                    }\n\n                }));\n            }\n          })\n    }\n}\n\nexport default Yelp;"]},"metadata":{},"sourceType":"module"}